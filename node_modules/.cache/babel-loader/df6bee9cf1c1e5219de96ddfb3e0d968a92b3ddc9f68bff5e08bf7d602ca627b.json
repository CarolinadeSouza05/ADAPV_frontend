{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{MagnifyingGlass,Pencil,Trash,X}from\"@phosphor-icons/react\";import'./Modal.css';import{deleteRegisterLogin,deleteRegisterVoluntario,getAllRegisterLogin,getAllRegisterVoluntario}from\"../api\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Modal(props){var title=props.title,tableHead=props.tableHead,registerAll=props.registerAll,setRegisterAll=props.setRegisterAll,setFormValidate=props.setFormValidate,ChangeValueObject=props.ChangeValueObject,setModal=props.setModal;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];function editRegister(register,index){if(ChangeValueObject){ChangeValueObject(register);}if(register.email!==undefined){var auxRegisters={edit:index,email:register.email,enderecoRua:register.endereco.split(\" - \")[0],enderecoNumero:register.endereco.split(\" - \")[1],enderecoCep:register.endereco.split(\" - \")[2],enderecoCidade:register.endereco.split(\" - \")[3],id:register.id,nome:register.nome,senha:register.senha,senhaConfirmar:register.senha,telefone:register.telefone};setFormValidate(auxRegisters);}else{setFormValidate(register);}}function deleteRegisterById(_x,_x2){return _deleteRegisterById.apply(this,arguments);}function _deleteRegisterById(){_deleteRegisterById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(register,id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(register.email!==undefined)){_context.next=11;break;}if(!window.confirm(\"Tem certeza de que deseja excluir o registro do usu치rio?\")){_context.next=9;break;}_context.next=4;return deleteRegisterLogin(id);case 4:_context.t0=setRegisterAll;_context.next=7;return getAllRegisterLogin();case 7:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 9:_context.next=19;break;case 11:if(!window.confirm(\"Tem certeza de que deseja excluir o volunt치rio?\")){_context.next=19;break;}_context.next=14;return deleteRegisterVoluntario(id);case 14:_context.t2=setRegisterAll;_context.next=17;return getAllRegisterVoluntario();case 17:_context.t3=_context.sent;(0,_context.t2)(_context.t3);case 19:case\"end\":return _context.stop();}},_callee);}));return _deleteRegisterById.apply(this,arguments);}function onChangeSearchvalue(value){setSearch(value);}return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(MagnifyingGlass,{size:26}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",onChange:function onChange(e){return onChangeSearchvalue(e.target.value);},placeholder:\"Pesquise pelo nome\"})]}),/*#__PURE__*/_jsx(X,{size:32,onClick:function onClick(){return setModal(false);}})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[tableHead.map(function(head,index){return/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:head},index);}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Deletar\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:registerAll!==undefined&&registerAll.length>0&&registerAll.filter(function(register){return Object.values(register.nome).join(\"\").toLowerCase().includes(search.toLowerCase());}).map(function(registerInput,index){var register=[];Object.values(registerInput).forEach(function(values,index){if(values!==registerInput.senha){return register.push(values);}});return/*#__PURE__*/_jsxs(\"tr\",{children:[register.map(function(registerInput,index){return typeof registerInput===\"string\"?/*#__PURE__*/_jsx(\"td\",{children:registerInput},index):null;}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Pencil,{size:32,onClick:function onClick(){return editRegister(registerInput,index);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Trash,{size:32,onClick:function onClick(){return deleteRegisterById(registerInput,registerInput.id);}})})]},index);})})]})]})});}","map":{"version":3,"names":["MagnifyingGlass","Pencil","Trash","X","deleteRegisterLogin","deleteRegisterVoluntario","getAllRegisterLogin","getAllRegisterVoluntario","useState","jsx","_jsx","jsxs","_jsxs","Modal","props","title","tableHead","registerAll","setRegisterAll","setFormValidate","ChangeValueObject","setModal","_useState","_useState2","_slicedToArray","search","setSearch","editRegister","register","index","email","undefined","auxRegisters","edit","enderecoRua","endereco","split","enderecoNumero","enderecoCep","enderecoCidade","id","nome","senha","senhaConfirmar","telefone","deleteRegisterById","_x","_x2","_deleteRegisterById","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","window","confirm","t0","t1","sent","t2","t3","stop","onChangeSearchvalue","value","className","children","size","type","name","onChange","e","target","placeholder","onClick","map","head","scope","length","filter","Object","values","join","toLowerCase","includes","registerInput","forEach","push"],"sources":["C:/Users/Windows/Desktop/ADAPV_frontend/src/components/Modal.jsx"],"sourcesContent":["import { MagnifyingGlass, Pencil, Trash, X } from \"@phosphor-icons/react\";\r\nimport './Modal.css'\r\nimport { deleteRegisterLogin, deleteRegisterVoluntario, getAllRegisterLogin, getAllRegisterVoluntario } from \"../api\";\r\nimport { useState } from \"react\";\r\n\r\nexport function Modal(props) {\r\n  const { title, tableHead, registerAll, setRegisterAll, setFormValidate, ChangeValueObject, setModal } = props;\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  function editRegister(register, index) {\r\n    if (ChangeValueObject) {\r\n      ChangeValueObject(register);\r\n    }\r\n\r\n    if(register.email !== undefined){\r\n      const auxRegisters = {\r\n        edit: index,\r\n        email: register.email,\r\n        enderecoRua: register.endereco.split(\" - \")[0],\r\n        enderecoNumero: register.endereco.split(\" - \")[1],\r\n        enderecoCep: register.endereco.split(\" - \")[2],\r\n        enderecoCidade: register.endereco.split(\" - \")[3],\r\n        id: register.id,\r\n        nome: register.nome,\r\n        senha: register.senha,\r\n        senhaConfirmar: register.senha,\r\n        telefone: register.telefone,\r\n      };\r\n\r\n      setFormValidate(auxRegisters);\r\n    }\r\n    else{\r\n      setFormValidate(register);\r\n    }\r\n\r\n  }\r\n\r\n  async function deleteRegisterById(register, id) {    \r\n      if(register.email !== undefined){\r\n        if(window.confirm(\"Tem certeza de que deseja excluir o registro do usu치rio?\")){\r\n        await deleteRegisterLogin(id);\r\n        setRegisterAll(await getAllRegisterLogin());\r\n      }}\r\n      else{\r\n        if(window.confirm(\"Tem certeza de que deseja excluir o volunt치rio?\")){\r\n        await deleteRegisterVoluntario(id);\r\n        setRegisterAll(await getAllRegisterVoluntario());\r\n      }\r\n    }\r\n  }\r\n\r\n  function onChangeSearchvalue(value) {\r\n    setSearch(value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-container flex-col\">\r\n        <div className=\"modal-container-title\">\r\n          <h2>{title}</h2>\r\n\r\n          <div className=\"search\">\r\n            <MagnifyingGlass size={26} />\r\n            <input\r\n              type=\"text\"\r\n              name=\"search\"\r\n              onChange={(e) => onChangeSearchvalue(e.target.value)}\r\n              placeholder={\"Pesquise pelo nome\"}\r\n            />\r\n          </div>\r\n\r\n          <X size={32} onClick={() => setModal(false)} />\r\n        </div>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              {tableHead.map((head, index) => (\r\n                <th scope=\"col\" key={index}>\r\n                  {head}\r\n                </th>\r\n              ))}\r\n              <th scope=\"col\">Editar</th>\r\n              <th scope=\"col\">Deletar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {registerAll !== undefined && registerAll.length > 0 &&\r\n              registerAll\r\n                .filter((register) =>\r\n                  Object.values(register.nome)\r\n                    .join(\"\")\r\n                    .toLowerCase()\r\n                    .includes(search.toLowerCase())\r\n                )\r\n                .map((registerInput, index) => {\r\n                  const register = [];\r\n                  Object.values(registerInput).forEach((values, index) => {\r\n                    if(values !== registerInput.senha){\r\n                      return register.push(values);\r\n                    }\r\n                  });\r\n\r\n                  return (\r\n                    <tr key={index}>\r\n                      {register.map((registerInput, index) =>\r\n                        typeof registerInput === \"string\"  ? (\r\n                          <td key={index}>{registerInput}</td>\r\n                        ) : null\r\n                      )}\r\n                      <td>\r\n                        <Pencil\r\n                          size={32}\r\n                          onClick={() => editRegister(registerInput, index)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <Trash\r\n                          size={32}\r\n                          onClick={() => deleteRegisterById(registerInput, registerInput.id)}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}