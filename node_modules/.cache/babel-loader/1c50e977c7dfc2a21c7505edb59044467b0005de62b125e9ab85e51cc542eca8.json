{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{MagnifyingGlass,Pencil,Trash,X}from\"@phosphor-icons/react\";import'./Modal.css';import{excluirAnimais,getAnimais}from\"../api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Modal(props){var title=props.title,tableHead=props.tableHead,registerAll=props.registerAll,setRegisterAll=props.setRegisterAll,setFormValidate=props.setFormValidate,ChangeValueObject=props.ChangeValueObject,setModal=props.setModal;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];function editRegister(register,index){if(ChangeValueObject){ChangeValueObject(register);}setFormValidate(register);}function deletarAnimal(_x){return _deletarAnimal.apply(this,arguments);}function _deletarAnimal(){_deletarAnimal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var confirmDelete,animais;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:confirmDelete=window.confirm(\"Tem certeza de que deseja excluir o Animal?\");if(!confirmDelete){_context.next=14;break;}_context.prev=2;_context.next=5;return excluirAnimais(id);case 5:_context.next=7;return getAnimais();case 7:animais=_context.sent;setRegisterAll(animais);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.error(\"Erro ao excluir o Animal:\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,11]]);}));return _deletarAnimal.apply(this,arguments);}function onChangeSearchvalue(value){setSearch(value);}return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(MagnifyingGlass,{size:26}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",placeholder:\"Pesquise pelo nome do animal\",onChange:function onChange(e){return onChangeSearchvalue(e.target.value);}})]}),/*#__PURE__*/_jsx(X,{size:32,onClick:function onClick(){return setModal(false);}})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[tableHead.map(function(head,index){return/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:head},index);}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Deletar\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:registerAll!==undefined&&registerAll.length>0&&registerAll.filter(function(register){return register.nome.toLowerCase().includes(search.toLowerCase());}).map(function(registerInput,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[Object.values(registerInput).map(function(registerInput,index){return/*#__PURE__*/_jsx(\"td\",{children:registerInput},index);}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Pencil,{size:32,onClick:function onClick(){return editRegister(registerInput,index);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Trash,{size:32,onClick:function onClick(){return deletarAnimal(registerInput.id);}})})]},index);})})]})]})});}","map":{"version":3,"names":["React","useState","MagnifyingGlass","Pencil","Trash","X","excluirAnimais","getAnimais","jsx","_jsx","jsxs","_jsxs","Modal","props","title","tableHead","registerAll","setRegisterAll","setFormValidate","ChangeValueObject","setModal","_useState","_useState2","_slicedToArray","search","setSearch","editRegister","register","index","deletarAnimal","_x","_deletarAnimal","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","confirmDelete","animais","wrap","_callee$","_context","prev","next","window","confirm","sent","t0","console","error","stop","onChangeSearchvalue","value","className","children","size","type","name","placeholder","onChange","e","target","onClick","map","head","scope","undefined","length","filter","nome","toLowerCase","includes","registerInput","Object","values"],"sources":["C:/Users/Windows/Desktop/ADAPV_frontend/src/components/ModalAnimal.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { MagnifyingGlass, Pencil, Trash, X } from \"@phosphor-icons/react\";\r\nimport './Modal.css'\r\nimport { excluirAnimais, getAnimais } from \"../api/index\";\r\n\r\nexport function Modal(props) {\r\n  const { title, tableHead, registerAll, setRegisterAll, setFormValidate, ChangeValueObject, setModal } = props;\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  function editRegister(register, index) {\r\n    if (ChangeValueObject) {\r\n      ChangeValueObject(register);\r\n    }\r\n    setFormValidate(register);\r\n  }\r\n\r\n  async function deletarAnimal(id) {\r\n    const confirmDelete = window.confirm(\"Tem certeza de que deseja excluir o Animal?\");\r\n    if (confirmDelete) {\r\n      try {\r\n        await excluirAnimais(id);\r\n        const animais = await getAnimais();\r\n        setRegisterAll(animais);\r\n      } catch (error) {\r\n        console.error(\"Erro ao excluir o Animal:\", error);\r\n      }\r\n    }\r\n  }\r\n\r\n  function onChangeSearchvalue(value) {\r\n    setSearch(value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-container flex-col\">\r\n        <div className=\"modal-container-title\">\r\n          <h2>{title}</h2>\r\n\r\n          <div className=\"search\">\r\n            <MagnifyingGlass size={26} />\r\n            <input\r\n              type=\"text\"\r\n              name=\"search\"\r\n              placeholder=\"Pesquise pelo nome do animal\"\r\n              onChange={(e) => onChangeSearchvalue(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <X size={32} onClick={() => setModal(false)} />\r\n        </div>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              {tableHead.map((head, index) => (\r\n                <th scope=\"col\" key={index}>\r\n                  {head}\r\n                </th>\r\n              ))}\r\n              <th scope=\"col\">Editar</th>\r\n              <th scope=\"col\">Deletar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {registerAll !== undefined && registerAll.length > 0 &&\r\n              registerAll\r\n                .filter((register) =>\r\n                  register.nome.toLowerCase().includes(search.toLowerCase())\r\n                )\r\n                .map((registerInput, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n                      {Object.values(registerInput).map((registerInput, index) => (\r\n                        <td key={index}>\r\n                          {registerInput}\r\n                        </td>\r\n                      ))}\r\n                      <td>\r\n                        <Pencil\r\n                          size={32}\r\n                          onClick={() => editRegister(registerInput, index)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <Trash\r\n                          size={32}\r\n                          onClick={() => deletarAnimal(registerInput.id)}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}