{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Windows/Desktop/ADAPV_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{MagnifyingGlass,Pencil,Trash,X}from\"@phosphor-icons/react\";import'./Modal.css';import{excluirProduto,getProdutos}from\"../api/index\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Modal(props){var title=props.title,tableHead=props.tableHead,registerAll=props.registerAll,setRegisterAll=props.setRegisterAll,setFormValidate=props.setFormValidate,ChangeValueObject=props.ChangeValueObject,setModal=props.setModal;console.log(registerAll);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];function editRegister(register,index){if(ChangeValueObject){ChangeValueObject(register);}if(register.email!==undefined){var _register$endereco,_register$endereco2,_register$endereco3,_register$endereco4;var auxRegisters={edit:index,email:register.email,enderecoRua:(_register$endereco=register.endereco)===null||_register$endereco===void 0?void 0:_register$endereco.split(\" - \")[0],enderecoNumero:(_register$endereco2=register.endereco)===null||_register$endereco2===void 0?void 0:_register$endereco2.split(\" - \")[1],enderecoCep:(_register$endereco3=register.endereco)===null||_register$endereco3===void 0?void 0:_register$endereco3.split(\" - \")[2],enderecoCidade:(_register$endereco4=register.endereco)===null||_register$endereco4===void 0?void 0:_register$endereco4.split(\" - \")[3],id:register.id,nome:register.nome,senha:register.senha,senhaConfirmar:register.senha,telefone:register.telefone};setFormValidate(auxRegisters);}setFormValidate(register);}function deletarProduto(_x){return _deletarProduto.apply(this,arguments);}function _deletarProduto(){_deletarProduto=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(codigo){var confirmDelete,produtos;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:confirmDelete=window.confirm(\"Tem certeza de que deseja excluir o produto?\");if(!confirmDelete){_context.next=14;break;}_context.prev=2;_context.next=5;return excluirProduto(codigo);case 5:_context.next=7;return getProdutos();case 7:produtos=_context.sent;setRegisterAll(produtos);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.error(\"Erro ao excluir o produto:\",_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,11]]);}));return _deletarProduto.apply(this,arguments);}function onChangeSearchvalue(value){setSearch(value);}return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(MagnifyingGlass,{size:26}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",placeholder:\"Pesquise pelo nome do produto\",onChange:function onChange(e){return onChangeSearchvalue(e.target.value);}})]}),/*#__PURE__*/_jsx(X,{size:32,onClick:function onClick(){return setModal(false);}})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[tableHead.map(function(head,index){return/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:head},index);}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Deletar\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:registerAll!==undefined&&registerAll.length>0&&registerAll.filter(function(register){return Object.values(register.nome).join(\"\").toLowerCase().includes(search.toLowerCase());}).map(function(registerInput,index){var register=Object.values(registerInput);return/*#__PURE__*/_jsxs(\"tr\",{children:[register.map(function(registerInput,index){return/*#__PURE__*/_jsx(\"td\",{children:registerInput},index);}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Pencil,{size:32,onClick:function onClick(){return editRegister(registerInput,index);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Trash,{size:32,onClick:function onClick(){return deletarProduto(registerInput.codigo);}})})]},index);})})]})]})});}","map":{"version":3,"names":["MagnifyingGlass","Pencil","Trash","X","excluirProduto","getProdutos","useState","jsx","_jsx","jsxs","_jsxs","Modal","props","title","tableHead","registerAll","setRegisterAll","setFormValidate","ChangeValueObject","setModal","console","log","_useState","_useState2","_slicedToArray","search","setSearch","editRegister","register","index","email","undefined","_register$endereco","_register$endereco2","_register$endereco3","_register$endereco4","auxRegisters","edit","enderecoRua","endereco","split","enderecoNumero","enderecoCep","enderecoCidade","id","nome","senha","senhaConfirmar","telefone","deletarProduto","_x","_deletarProduto","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","codigo","confirmDelete","produtos","wrap","_callee$","_context","prev","next","window","confirm","sent","t0","error","stop","onChangeSearchvalue","value","className","children","size","type","name","placeholder","onChange","e","target","onClick","map","head","scope","length","filter","Object","values","join","toLowerCase","includes","registerInput"],"sources":["C:/Users/Windows/Desktop/ADAPV_frontend/src/components/ModalProduto.jsx"],"sourcesContent":["import { MagnifyingGlass, Pencil, Trash, X } from \"@phosphor-icons/react\";\r\nimport './Modal.css'\r\nimport { excluirProduto, getProdutos } from \"../api/index\";\r\nimport { useState } from \"react\";\r\n\r\nexport function Modal(props) {\r\n  const { title, tableHead, registerAll, setRegisterAll, setFormValidate, ChangeValueObject, setModal } = props;\r\n  console.log(registerAll);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  function editRegister(register, index) {\r\n    if (ChangeValueObject) {\r\n      ChangeValueObject(register);\r\n    }\r\n\r\n    if (register.email !== undefined) {\r\n      const auxRegisters = {\r\n        edit: index,\r\n        email: register.email,\r\n        enderecoRua: register.endereco?.split(\" - \")[0],\r\n        enderecoNumero: register.endereco?.split(\" - \")[1],\r\n        enderecoCep: register.endereco?.split(\" - \")[2],\r\n        enderecoCidade: register.endereco?.split(\" - \")[3],\r\n        id: register.id,\r\n        nome: register.nome,\r\n        senha: register.senha,\r\n        senhaConfirmar: register.senha,\r\n        telefone: register.telefone,\r\n      };\r\n\r\n      setFormValidate(auxRegisters);\r\n    }\r\n\r\n    setFormValidate(register);\r\n  }\r\n\r\n  async function deletarProduto(codigo) {\r\n    const confirmDelete = window.confirm(\"Tem certeza de que deseja excluir o produto?\");\r\n    if (confirmDelete) {\r\n      try {\r\n        await excluirProduto(codigo);\r\n        const produtos = await getProdutos();\r\n        setRegisterAll(produtos);\r\n      } catch (error) {\r\n        console.error(\"Erro ao excluir o produto:\", error);\r\n      }\r\n    }\r\n  }\r\n\r\n  function onChangeSearchvalue(value) {\r\n    setSearch(value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-container flex-col\">\r\n        <div className=\"modal-container-title\">\r\n          <h2>{title}</h2>\r\n\r\n          <div className=\"search\">\r\n            <MagnifyingGlass size={26} />\r\n            <input\r\n              type=\"text\"\r\n              name=\"search\"\r\n              placeholder=\"Pesquise pelo nome do produto\"\r\n              onChange={(e) => onChangeSearchvalue(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <X size={32} onClick={() => setModal(false)} />\r\n        </div>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              {tableHead.map((head, index) => (\r\n                <th scope=\"col\" key={index}>\r\n                  {head}\r\n                </th>\r\n              ))}\r\n              <th scope=\"col\">Editar</th>\r\n              <th scope=\"col\">Deletar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {registerAll !== undefined && registerAll.length > 0 &&\r\n              registerAll\r\n                .filter((register) =>\r\n                  Object.values(register.nome)\r\n                    .join(\"\")\r\n                    .toLowerCase()\r\n                    .includes(search.toLowerCase())\r\n                )\r\n                .map((registerInput, index) => {\r\n                  const register = Object.values(registerInput);\r\n\r\n                  return (\r\n                    <tr key={index}>\r\n                      {register.map((registerInput, index) => (\r\n                        <td key={index}>{registerInput}</td>\r\n                      )\r\n                      )}\r\n                      <td>\r\n                        <Pencil\r\n                          size={32}\r\n                          onClick={() => editRegister(registerInput, index)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <Trash\r\n                          size={32}\r\n                          onClick={() => deletarProduto(registerInput.codigo)}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}