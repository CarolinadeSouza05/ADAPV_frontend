{"ast":null,"code":"import{Button,Container,Table}from\"react-bootstrap\";import{FaEdit,FaSearch,FaTrash}from\"react-icons/fa\";import\"./TabelaDenuncia.css\";import{urLBase}from\"../api/index.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function TabelaDenuncia(props){var _props$listadedenunci;// const [denuncia, setDenuncia] = useState(props.listadedenuncias);\n// function excluirDenuncia(id) {\n//   const listaAtualizada = props.listadedenuncias.filter(\n//     (denuncia) => denuncia.id !== id\n//   );\n//   props.setDenuncia(listaAtualizada);\n// }\n//Filtro sempre busca na lista original do banco de dados\nfunction filtrarDenuncias(e){var termoBusca=e.currentTarget.value;fetch(urLBase+\"/denuncias\",{method:\"GET\"}).then(function(resposta){return resposta.json();}).then(function(listadedenuncias){if(Array.isArray(listadedenuncias)){var resultadoBusca=listadedenuncias.filter(function(denuncia){return denuncia.observacoes.toLowerCase().includes(termoBusca.toLowerCase());});props.setDenuncia(resultadoBusca);}});}function limparFormulario(){props.setDenunciaEmEdicao({id:\"0\",rua:\"\",numero:\"\",cep:\"\",cidade:\"\",data:\"\",observacoes:\"\",telefone:\"\"});}return/*#__PURE__*/_jsxs(Container,{className:\"container-table-denuncia body\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"botao_denuncia_tab montserrat-bold-concrete-16px\",onClick:function onClick(){limparFormulario();props.exibirTabela(false);props.setAtualizando(false);},children:\"Novo Cadastro\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"titulo_tabela_denuncias\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"vector vectorEntrada\",src:\"vector-3.svg\",alt:\"Vector\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"span0\",children:\"Denuncias \"}),/*#__PURE__*/_jsx(\"span\",{className:\"span1\",children:\"Realizadas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group_pesquisa\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"termoBusca\",className:\"searchInput_denuncia\",placeholder:\"Pesquise pelas observa\\xE7\\xF5es da denuncia\",onChange:filtrarDenuncias}),/*#__PURE__*/_jsx(\"div\",{className:\"botaoprimario\",children:/*#__PURE__*/_jsx(\"button\",{className:\"searchButton\",children:/*#__PURE__*/_jsx(FaSearch,{})})})]}),/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rua\"}),/*#__PURE__*/_jsx(\"th\",{children:\"N\\xBA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CEP\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cidade\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Telefone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Observa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(_props$listadedenunci=props.listadedenuncias)===null||_props$listadedenunci===void 0?void 0:_props$listadedenunci.map(function(denuncia){var dataFormatada=new Date(denuncia.data).toLocaleDateString();return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:denuncia.rua}),/*#__PURE__*/_jsx(\"td\",{children:denuncia.numero}),/*#__PURE__*/_jsx(\"td\",{children:denuncia.cep}),/*#__PURE__*/_jsx(\"td\",{children:denuncia.cidade}),/*#__PURE__*/_jsx(\"td\",{children:dataFormatada}),/*#__PURE__*/_jsx(\"td\",{children:denuncia.telefone}),/*#__PURE__*/_jsx(\"td\",{children:denuncia.observacoes}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"botoes\",children:[/*#__PURE__*/_jsx(Button,{className:\"botao_table\",onClick:function onClick(){props.editarDenuncia(denuncia);},children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(Button,{className:\"botao_table\",onClick:function onClick(){if(window.confirm(\"Confirma a exclusão desta denuncia?\")){props.excluirDenuncia(denuncia);}},children:/*#__PURE__*/_jsx(FaTrash,{})})]})})]},denuncia.id);})})]})]});}","map":{"version":3,"names":["Button","Container","Table","FaEdit","FaSearch","FaTrash","urLBase","jsx","_jsx","jsxs","_jsxs","TabelaDenuncia","props","_props$listadedenunci","filtrarDenuncias","e","termoBusca","currentTarget","value","fetch","method","then","resposta","json","listadedenuncias","Array","isArray","resultadoBusca","filter","denuncia","observacoes","toLowerCase","includes","setDenuncia","limparFormulario","setDenunciaEmEdicao","id","rua","numero","cep","cidade","data","telefone","className","children","onClick","exibirTabela","setAtualizando","src","alt","type","placeholder","onChange","map","dataFormatada","Date","toLocaleDateString","editarDenuncia","window","confirm","excluirDenuncia"],"sources":["C:/Users/Windows/Desktop/ADAPV_frontend/src/components/TabelaDenuncia.jsx"],"sourcesContent":["import { Button, Container, Table } from \"react-bootstrap\";\r\nimport { FaEdit, FaSearch, FaTrash } from \"react-icons/fa\";\r\nimport \"./TabelaDenuncia.css\";\r\nimport { urLBase } from \"../api/index.js\";\r\n\r\n\r\nexport  function TabelaDenuncia(props) {\r\n  // const [denuncia, setDenuncia] = useState(props.listadedenuncias);\r\n\r\n  // function excluirDenuncia(id) {\r\n  //   const listaAtualizada = props.listadedenuncias.filter(\r\n  //     (denuncia) => denuncia.id !== id\r\n  //   );\r\n  //   props.setDenuncia(listaAtualizada);\r\n  // }\r\n\r\n  //Filtro sempre busca na lista original do banco de dados\r\n  function filtrarDenuncias(e) {\r\n    const termoBusca = e.currentTarget.value;\r\n\r\n    fetch(urLBase + \"/denuncias\", { method: \"GET\" })\r\n      .then((resposta) => {\r\n        return resposta.json()\r\n      }).then((listadedenuncias) => {\r\n        if (Array.isArray(listadedenuncias)) {\r\n          const resultadoBusca = listadedenuncias.filter((denuncia) =>\r\n            denuncia.observacoes.toLowerCase().includes(termoBusca.toLowerCase())\r\n          );\r\n          props.setDenuncia(resultadoBusca);\r\n        }\r\n      })\r\n  }\r\n  function limparFormulario() {\r\n    props.setDenunciaEmEdicao({\r\n      id: \"0\",\r\n      rua: \"\",\r\n      numero: \"\",\r\n      cep: \"\",\r\n      cidade: \"\",\r\n      data:\"\",\r\n      observacoes: \"\",\r\n      telefone: \"\"\r\n    });\r\n  }\r\n\r\n\r\n  \r\n  return (\r\n    <Container className=\"container-table-denuncia body\">\r\n      <button\r\n        className=\"botao_denuncia_tab montserrat-bold-concrete-16px\"\r\n        onClick={() => {\r\n          limparFormulario()\r\n          props.exibirTabela(false);\r\n          props.setAtualizando(false);\r\n        }}>\r\n        Novo Cadastro\r\n      </button>\r\n      <div className=\"titulo_tabela_denuncias\">\r\n              <img\r\n                className=\"vector vectorEntrada\"\r\n                src={\"vector-3.svg\"}\r\n                alt=\"Vector\"\r\n              />\r\n              <div>\r\n                <span className=\"span0\">Denuncias </span><span className=\"span1\">Realizadas</span>\r\n              </div>\r\n            </div>\r\n\r\n      <div className=\"group_pesquisa\">\r\n        {/* <div className=\"search_denuncia\"> */}\r\n        <input\r\n          type=\"text\"\r\n          id=\"termoBusca\"\r\n          className=\"searchInput_denuncia\"\r\n          placeholder=\"Pesquise pelas observações da denuncia\"\r\n          onChange={filtrarDenuncias}\r\n        />\r\n        \r\n\r\n        <div className=\"botaoprimario\">\r\n          <button className=\"searchButton\">\r\n            <FaSearch />\r\n          </button>\r\n        </div>\r\n      </div>\r\n  \r\n\r\n\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>Rua</th>\r\n            <th>Nº</th>\r\n            <th>CEP</th>\r\n            <th>Cidade</th>\r\n            <th>Data</th>\r\n            <th>Telefone</th>\r\n            <th>Observações</th>\r\n            <th>Ações</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {props.listadedenuncias?.map((denuncia) => {\r\n            const dataFormatada = new Date(denuncia.data).toLocaleDateString();\r\n            return (\r\n              <tr key={denuncia.id}>\r\n                <td>{denuncia.rua}</td>\r\n                <td>{denuncia.numero}</td>\r\n                <td>{denuncia.cep}</td>\r\n                <td>{denuncia.cidade}</td>\r\n                <td>{dataFormatada}</td>\r\n                <td>{denuncia.telefone}</td>\r\n                <td>{denuncia.observacoes}</td>\r\n                <td>\r\n                  <div className=\"botoes\">\r\n                    <Button\r\n                      className=\"botao_table\"\r\n                    onClick={() => {\r\n                      props.editarDenuncia(denuncia)\r\n                    }}\r\n                    ><FaEdit />\r\n                    </Button>\r\n                    <Button\r\n                      className=\"botao_table\"\r\n                      onClick={() => {\r\n                        if (window.confirm(\"Confirma a exclusão desta denuncia?\")){\r\n                          props.excluirDenuncia(denuncia)\r\n                        }\r\n                      }}\r\n                    >\r\n                      <FaTrash />\r\n                    </Button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,SAAS,CAAEC,KAAK,KAAQ,iBAAiB,CAC1D,OAASC,MAAM,CAAEC,QAAQ,CAAEC,OAAO,KAAQ,gBAAgB,CAC1D,MAAO,sBAAsB,CAC7B,OAASC,OAAO,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG1C,MAAQ,SAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,KAAAC,qBAAA,CACrC;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,QAAS,CAAAC,gBAAgBA,CAACC,CAAC,CAAE,CAC3B,GAAM,CAAAC,UAAU,CAAGD,CAAC,CAACE,aAAa,CAACC,KAAK,CAExCC,KAAK,CAACb,OAAO,CAAG,YAAY,CAAE,CAAEc,MAAM,CAAE,KAAM,CAAC,CAAC,CAC7CC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,MAAO,CAAAA,QAAQ,CAACC,IAAI,EAAE,CACxB,CAAC,CAAC,CAACF,IAAI,CAAC,SAACG,gBAAgB,CAAK,CAC5B,GAAIC,KAAK,CAACC,OAAO,CAACF,gBAAgB,CAAC,CAAE,CACnC,GAAM,CAAAG,cAAc,CAAGH,gBAAgB,CAACI,MAAM,CAAC,SAACC,QAAQ,QACtD,CAAAA,QAAQ,CAACC,WAAW,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAChB,UAAU,CAACe,WAAW,EAAE,CAAC,GACtE,CACDnB,KAAK,CAACqB,WAAW,CAACN,cAAc,CAAC,CACnC,CACF,CAAC,CAAC,CACN,CACA,QAAS,CAAAO,gBAAgBA,CAAA,CAAG,CAC1BtB,KAAK,CAACuB,mBAAmB,CAAC,CACxBC,EAAE,CAAE,GAAG,CACPC,GAAG,CAAE,EAAE,CACPC,MAAM,CAAE,EAAE,CACVC,GAAG,CAAE,EAAE,CACPC,MAAM,CAAE,EAAE,CACVC,IAAI,CAAC,EAAE,CACPX,WAAW,CAAE,EAAE,CACfY,QAAQ,CAAE,EACZ,CAAC,CAAC,CACJ,CAIA,mBACEhC,KAAA,CAACT,SAAS,EAAC0C,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAClDpC,IAAA,WACEmC,SAAS,CAAC,kDAAkD,CAC5DE,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbX,gBAAgB,EAAE,CAClBtB,KAAK,CAACkC,YAAY,CAAC,KAAK,CAAC,CACzBlC,KAAK,CAACmC,cAAc,CAAC,KAAK,CAAC,CAC7B,CAAE,CAAAH,QAAA,CAAC,eAEL,EAAS,cACTlC,KAAA,QAAKiC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAChCpC,IAAA,QACEmC,SAAS,CAAC,sBAAsB,CAChCK,GAAG,CAAE,cAAe,CACpBC,GAAG,CAAC,QAAQ,EACZ,cACFvC,KAAA,QAAAkC,QAAA,eACEpC,IAAA,SAAMmC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,YAAU,EAAO,cAAApC,IAAA,SAAMmC,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,YAAU,EAAO,GAC9E,GACF,cAEZlC,KAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BpC,IAAA,UACE0C,IAAI,CAAC,MAAM,CACXd,EAAE,CAAC,YAAY,CACfO,SAAS,CAAC,sBAAsB,CAChCQ,WAAW,CAAC,8CAAwC,CACpDC,QAAQ,CAAEtC,gBAAiB,EAC3B,cAGFN,IAAA,QAAKmC,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BpC,IAAA,WAAQmC,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC9BpC,IAAA,CAACJ,QAAQ,IAAG,EACL,EACL,GACF,cAINM,KAAA,CAACR,KAAK,EAAA0C,QAAA,eACJpC,IAAA,UAAAoC,QAAA,cACElC,KAAA,OAAAkC,QAAA,eACEpC,IAAA,OAAAoC,QAAA,CAAI,KAAG,EAAK,cACZpC,IAAA,OAAAoC,QAAA,CAAI,OAAE,EAAK,cACXpC,IAAA,OAAAoC,QAAA,CAAI,KAAG,EAAK,cACZpC,IAAA,OAAAoC,QAAA,CAAI,QAAM,EAAK,cACfpC,IAAA,OAAAoC,QAAA,CAAI,MAAI,EAAK,cACbpC,IAAA,OAAAoC,QAAA,CAAI,UAAQ,EAAK,cACjBpC,IAAA,OAAAoC,QAAA,CAAI,mBAAW,EAAK,cACpBpC,IAAA,OAAAoC,QAAA,CAAI,aAAK,EAAK,GACX,EACC,cACRpC,IAAA,UAAAoC,QAAA,EAAA/B,qBAAA,CACGD,KAAK,CAACY,gBAAgB,UAAAX,qBAAA,iBAAtBA,qBAAA,CAAwBwC,GAAG,CAAC,SAACxB,QAAQ,CAAK,CACzC,GAAM,CAAAyB,aAAa,CAAG,GAAI,CAAAC,IAAI,CAAC1B,QAAQ,CAACY,IAAI,CAAC,CAACe,kBAAkB,EAAE,CAClE,mBACE9C,KAAA,OAAAkC,QAAA,eACEpC,IAAA,OAAAoC,QAAA,CAAKf,QAAQ,CAACQ,GAAG,EAAM,cACvB7B,IAAA,OAAAoC,QAAA,CAAKf,QAAQ,CAACS,MAAM,EAAM,cAC1B9B,IAAA,OAAAoC,QAAA,CAAKf,QAAQ,CAACU,GAAG,EAAM,cACvB/B,IAAA,OAAAoC,QAAA,CAAKf,QAAQ,CAACW,MAAM,EAAM,cAC1BhC,IAAA,OAAAoC,QAAA,CAAKU,aAAa,EAAM,cACxB9C,IAAA,OAAAoC,QAAA,CAAKf,QAAQ,CAACa,QAAQ,EAAM,cAC5BlC,IAAA,OAAAoC,QAAA,CAAKf,QAAQ,CAACC,WAAW,EAAM,cAC/BtB,IAAA,OAAAoC,QAAA,cACElC,KAAA,QAAKiC,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBpC,IAAA,CAACR,MAAM,EACL2C,SAAS,CAAC,aAAa,CACzBE,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbjC,KAAK,CAAC6C,cAAc,CAAC5B,QAAQ,CAAC,CAChC,CAAE,CAAAe,QAAA,cACDpC,IAAA,CAACL,MAAM,IAAG,EACF,cACTK,IAAA,CAACR,MAAM,EACL2C,SAAS,CAAC,aAAa,CACvBE,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb,GAAIa,MAAM,CAACC,OAAO,CAAC,qCAAqC,CAAC,CAAC,CACxD/C,KAAK,CAACgD,eAAe,CAAC/B,QAAQ,CAAC,CACjC,CACF,CAAE,CAAAe,QAAA,cAEFpC,IAAA,CAACH,OAAO,IAAG,EACJ,GACL,EACH,GA5BEwB,QAAQ,CAACO,EAAE,CA6Bf,CAET,CAAC,CAAC,EACI,GACF,GACE,CAEhB"},"metadata":{},"sourceType":"module","externalDependencies":[]}